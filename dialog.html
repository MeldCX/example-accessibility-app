<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="https://storage.googleapis.com/assets.meld.cx/agent/1.0.33/Agent.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Titillium+Web:200,400,700&display=swap"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="focus-layout">
      <h1 id="heading1">Modal & Dialog Example</h1>

      <div class="buttons">
        <button id="btnDialogOpen">Open Built-In Dialog</button>
        <button id="btnModalOpen">Open Custom Modal</button>
      </div>

      <dialog id="dlgBuiltIn" aria-flowto="heading1">
        <div class="wrap">
          <h1>This is a built-in dialog</h1>
          <p>
            <strong
              >Lorem ipsum dolor sit amet consectetur adipisicing elit.
              Cupiditate, voluptas! Incidunt, vitae cum maiores dolores harum
              molestias aperiam libero alias facere labore, nam magnam accusamus
              eum, a praesentium rerum nostrum!</strong
            >
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae velit
            veritatis quidem ut aut. Suscipit accusamus, rem quis laboriosam
            repellendus doloribus dicta dolor ullam cum alias deleniti, optio ex
            quo?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit culpa
            sed dolorum tempore iusto numquam! Aliquam blanditiis deleniti quae
            natus facilis fuga laborum aliquid repudiandae, beatae dolor, minus,
            nisi iste.
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi,
            distinctio sint dolorum laboriosam dicta fugit est ducimus possimus
            explicabo recusandae. Accusamus quidem eligendi a dicta consequatur
            assumenda facere quisquam. Ipsam.
          </p>
          <button id="btnDialogClose" aria-label="Close Modal">Close</button>
        </div>
      </dialog>
      <div class="modal" id="mdlCustom" aria-flowto="heading1">
        <div class="wrap">
          <h1>This is a custom modal</h1>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae velit
            veritatis quidem ut aut. Suscipit accusamus, rem quis laboriosam
            repellendus doloribus dicta dolor ullam cum alias deleniti, optio ex
            quo?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit culpa
            sed dolorum tempore iusto numquam! Aliquam blanditiis deleniti quae
            natus facilis fuga laborum aliquid repudiandae, beatae dolor, minus,
            nisi iste.
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi,
            distinctio sint dolorum laboriosam dicta fugit est ducimus possimus
            explicabo recusandae. Accusamus quidem eligendi a dicta consequatur
            assumenda facere quisquam. Ipsam.
          </p>
          <button id="btnModalClose" aria-label="Close Modal">Close</button>
        </div>
      </div>
      <a href="/">Back to demo app</a>
    </div>
    <script>
      const dialog = document.getElementById('dlgBuiltIn');
      const modal = document.getElementById('mdlCustom');

      const btnDialogOpen = document.getElementById('btnDialogOpen');
      const btnDialogClose = document.getElementById('btnDialogClose');

      const btnModalOpen = document.getElementById('btnModalOpen');
      const btnModalClose = document.getElementById('btnModalClose');

      const modalFirstElement = document.querySelector('.modal > *');

      btnDialogOpen.addEventListener('click', () => {
        window.mcxAccessibility.moveToElement(dialog.querySelector('*'));
        dialog.showModal();
      });

      btnDialogClose.addEventListener('click', () => {
        window.mcxAccessibility.moveToElement(btnDialogOpen);
        dialog.close();
      });

      btnModalOpen.addEventListener('click', () => {
        window.mcxAccessibility.moveToElement(modal.querySelector('div > *'));
        modal.style.display = 'flex';
      });

      btnModalClose.addEventListener('click', () => {
        window.mcxAccessibility.moveToElement(btnModalOpen);
        modal.style.display = 'none';
      });
    </script>
  </body>
</html>
